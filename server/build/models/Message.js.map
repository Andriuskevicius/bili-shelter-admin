{"version":3,"file":"Message.js","names":["_mongoose","_interopRequireDefault","require","_joi","obj","__esModule","default","Schema","mongoose","animalSchema","chip_id","type","String","required","unique","name","user","Types","ObjectId","ref","timestamps","methods","toJSON","id","_id","createdAt","updatedAt","validateMessage","message","schema","Joi","string","min","max","validate","exports","Message","model","_default"],"sources":["../../src/models/Message.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport Joi from 'joi';\nconst { Schema } = mongoose;\n\nconst animalSchema = new Schema(\n  {\n    chip_id: {\n      type: String,\n      required: true,\n      unique: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },\n  },\n  { timestamps: true },\n);\n\nanimalSchema.methods.toJSON = function () {\n  return {\n    id: this._id,\n    chip_id: this.chip_id,\n    name: this.name,\n    createdAt: this.createdAt,\n    updatedAt: this.updatedAt,\n    user: this.user.toJSON(),\n  };\n};\n\nexport const validateMessage = (message) => {\n  const schema = {\n    name: Joi.string().min(3).max(300).required(),\n    chip_id: Joi.string().min(12).max(12).required(),\n  };\n  return Joi.validate(message, schema);\n};\n\nconst Message = mongoose.model('Message', animalSchema);\n\nexport default Message;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACtB,MAAM;EAAEG;AAAO,CAAC,GAAGC,iBAAQ;AAE3B,MAAMC,YAAY,GAAG,IAAIF,MAAM,CAC7B;EACEG,OAAO,EAAE;IACPC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC;EACDC,IAAI,EAAE;IACJJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,IAAI,EAAE;IAAEL,IAAI,EAAEH,iBAAQ,CAACD,MAAM,CAACU,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE;EAAO;AAC5D,CAAC,EACD;EAAEC,UAAU,EAAE;AAAK,CACrB,CAAC;AAEDX,YAAY,CAACY,OAAO,CAACC,MAAM,GAAG,YAAY;EACxC,OAAO;IACLC,EAAE,EAAE,IAAI,CAACC,GAAG;IACZd,OAAO,EAAE,IAAI,CAACA,OAAO;IACrBK,IAAI,EAAE,IAAI,CAACA,IAAI;IACfU,SAAS,EAAE,IAAI,CAACA,SAAS;IACzBC,SAAS,EAAE,IAAI,CAACA,SAAS;IACzBV,IAAI,EAAE,IAAI,CAACA,IAAI,CAACM,MAAM,CAAC;EACzB,CAAC;AACH,CAAC;AAEM,MAAMK,eAAe,GAAIC,OAAO,IAAK;EAC1C,MAAMC,MAAM,GAAG;IACbd,IAAI,EAAEe,YAAG,CAACC,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,GAAG,CAAC,CAACpB,QAAQ,CAAC,CAAC;IAC7CH,OAAO,EAAEoB,YAAG,CAACC,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CAACpB,QAAQ,CAAC;EACjD,CAAC;EACD,OAAOiB,YAAG,CAACI,QAAQ,CAACN,OAAO,EAAEC,MAAM,CAAC;AACtC,CAAC;AAACM,OAAA,CAAAR,eAAA,GAAAA,eAAA;AAEF,MAAMS,OAAO,GAAG5B,iBAAQ,CAAC6B,KAAK,CAAC,SAAS,EAAE5B,YAAY,CAAC;AAAC,IAAA6B,QAAA,GAEzCF,OAAO;AAAAD,OAAA,CAAA7B,OAAA,GAAAgC,QAAA"}